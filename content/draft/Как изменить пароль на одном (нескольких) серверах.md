---
title: Как изменить пароль на одном (нескольких) серверах
description: 
tags:
  - project/Infra/scripting
draft: true
created: 2024-07-04T12:48
updated: 2024-11-26T13:12
---
```
#!/bin/bash

  

# Файл со списком серверов

SERVERS=("88.198.93.104")

  

# Порт SSH

PORT=22

  

# Имя пользователя

USERNAME="root"

  

# Новый пароль

read -sp 'Введите новый пароль: ' NEW_PASSWORD

echo

  

# Функция для смены пароля

change_password() {

local server=$1

echo "Изменение пароля на сервере $server..."

ssh -p $PORT $USERNAME@$server "echo -e \"$NEW_PASSWORD\n$NEW_PASSWORD\" | sudo passwd $USERNAME"

if [ $? -eq 0 ]; then

echo "Пароль на сервере $server успешно изменен"

else

echo "Ошибка при смене пароля на сервере $server"

fi

}

  

# Проход по списку серверов и изменение пароля

for server in "${SERVERS[@]}"; do

change_password $server

done
```