---
title: Основы компьютерных сетей простыми словами, часть 1. Коммутация каналов и пакетов
draft: false
tags:
  - tutorials/network
date: 2025-01-24
updated: 2025-02-01T13:15
---
Самыми общими словами, компьютерная сеть - это система, обеспечивающая передачу данных между двумя вычислительными устройствами (компьютер, сервер и так далее)

Данные между этими двумя компьютерами передаются небольшими порциями - **пакетами**. Существует два способа организации передачи данных:

- коммутация каналов
- коммутация пакетов

## Коммутация каналов

Как видно из названия, здесь мы используем **каналы** для передачи данных (выделенные каналы, если быть точным).

Данный способ используется в телефонии: перед тем, как передать какую-то информацию своему собеседнику нам нужно ему позвонить, установить с ним соединение.  
Как только мы дозвонимся до собеседника, то сможем передать ему желаемые данные

Дело в том, что данный способ хорошо подходит именно для телефонии, но для компьютеров это не самый лучший способ, так как при такой организации данных мы можем "позвонить" только одному "собеседнику".  
Это значит, что, например, на нашем сервере мог бы работать только один сервис (например nginx), чтобы подключиться к mysql понадобилось бы разорвать соединение с nginx и подключиться к mysql

Существует несколько типов передачи данных через каналы

### Simplex

- Позволяет передавать данные только **в одном направлении**. Например, GPS.  
    Сначала я подумал, что это ошибка, ведь когда мы включаем gps на телефоне, то спутнику передается информация о нашем местоположении, но все оказалось иначе:

Сам спутник постоянно передает сигналы на Землю. Когда мы включаем GPS на телефоне, то наш телефон принимает этот сигнал и уже **локально** обрабатывает для вычисления местоположения  
![[Pasted image 20250125115001.png]]
### Half duplex

- Позволяет передавать данные **в обе стороны**, но только в одном направлении одновременно.  
    Самый простой пример - это рация. Мы не можем говорить одновременно по рации, сначала один собеседник говорит, потом другой.  
    ![[Pasted image 20250125115035.png]]

### Full-duplex

- Позволяет передавать данные **в обе стороны** одновременно  
  ![[Pasted image 20250125115050.png]]

## Коммутация пакетов

Если в коммутации каналов у нас используются выделенные "линии", скажем так, то здесь это **пакеты**.

Пакеты - это данные, разбитые на небольшие фрагменты.  
Каждый пакет состоит из:

- заголовка, он содержит в себе:
    - информацию о получателе и другое, необходимое для успешной доставки пакета адресату
- данных  
    ![[Pasted image 20250125115107.png]]

Первое, что пришло мне в голову в качестве примера, это такого вида запрос:

```shell
curl -I https://animexin.dev/wp-content/cache/all/soul-land-2-the-peerless-tang-sect-episode-83-indonesia-english-sub/index.html

HTTP/2 200 
date: Fri, 24 Jan 2025 07:52:08 GMT
content-type: text/html
last-modified: Fri, 24 Jan 2025 07:28:33 GMT
vary: Accept-Encoding
nucuta-cache-location: /wp-content/cache/all/wp-content/cache/all/soul-land-2-the-peerless-tang-sect-episode-83-indonesia-english-sub/index.htmlindex.html
cf-cache-status: DYNAMIC
report-to: {"endpoints":[{"url":"https:\/\/a.nel.cloudflare.com\/report\/v4?s=JzC3z5qR1%2BDAhQbcwTVfpjJNyKhh%2F45qrfww3A41M0GXuIXX9R5%2FVXis7KE5NGzw89h1ffRScBSji88dT1D5rcxQw%2BRibzEbuZDeeLYZ%2Fl9XN4Jekpp4uCfNevZP%2FzQ%3D"}],"group":"cf-nel","max_age":604800}
nel: {"success_fraction":0,"report_to":"cf-nel","max_age":604800}
server: cloudflare
cf-ray: 906e713c8ce866db-AMS
alt-svc: h3=":443"; ma=86400
server-timing: cfL4;desc="?proto=TCP&rtt=83678&min_rtt=79994&rtt_var=25803&sent=7&recv=8&lost=0&retrans=0&sent_bytes=3410&recv_bytes=819&delivery_rate=47885&cwnd=252&unsent_bytes=0&cid=8ae3fbecc9fbd66c&ts=132&x=0"
```

В данном случае мы получили только заголовки, а данные можно получить, если ввести команду из аргумента `I`

Посмотреть "глазами" на каждый пакет мы можем с помощью Wireshark. Каждая строка - это один пакет.  
![[Pasted image 20250125115206.png]]

## Источники

- [https://stepik.org/course/208904/promo](https://stepik.org/course/208904/promo)
- Google